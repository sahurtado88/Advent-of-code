# Función corregida para verificar si se forma el patrón X-MAS
def check_xmas_correct(i, j, grid):
    # Verificamos que la posición (i, j) esté dentro de los límites para formar una "X-MAS"
    if (i - 1 >= 0 and i + 1 < len(grid) and j - 1 >= 0 and j + 1 < len(grid[0])):
        # Verificamos si en la forma de la "X-MAS"
        # A es el centro de la X, y se deben cumplir las posiciones de M y S
        if (grid[i-1][j-1] == 'M' and grid[i][j] == 'A' and grid[i+1][j+1] == 'M' and
            grid[i-1][j+1] == 'S' and grid[i][j+1] == 'S' and grid[i+1][j-1] == 'S'):
            return True
    return False

# Contar cuántas veces aparece el patrón X-MAS
count_correct = 0

# Recorrer toda la cuadrícula buscando el patrón X-MAS
for i in range(1, len(grid) - 1):  # Evitar bordes superior e inferior
    for j in range(1, len(grid[i]) - 1):  # Evitar bordes izquierdo y derecho
        if grid[i][j] == 'A' and check_xmas_correct(i, j, grid):
            count_correct += 1

count_correct
